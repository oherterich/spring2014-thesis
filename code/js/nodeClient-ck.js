var socket=io.connect("http://localhost:8080"),userList=new Array,lights=new Array,looks=new Array,test=document.getElementById("test"),User=function(e,t,n){this.posX=e;this.posY=t;this.userid=n};socket.on("entrance",function(e){newUser(e.userid);console.log(e.message)});socket.on("init",function(e){newUser(e.userid);console.log(e.userid);console.log(e.users)});socket.on("init user",function(e){newUser(e.userid);console.log(userList.length)});socket.on("user disconnect",function(e){for(var t=0;t<userList.length;t++)if(userList[t].userid==e.userid){var n=document.getElementById("test").childNodes[t];n.parentNode.removeChild(n);userList.splice(t,1);console.log("The user "+e.userid+" has disconnected.")}});socket.on("movement",function(e){console.log(e.userid+" - "+e.lookX+" | "+e.lookY+" ... "+e.camX+" | "+e.camY)});var newUser=function(e){var t=new THREE.SpotLight(15261886,1,1e4,Math.PI/4,10);lights.push(t);scene.add(t);var n=new THREE.Geometry(100,100,10,10),r=new THREE.MeshLambertMaterial({color:16711680,transparent:!0}),i=new THREE.Mesh(n,r);looks.push(i);scene.add(i);var s=new User(0,0,e);userList.push(s)},updateLights=function(){for(var e=0;e<lights.length;e++)console.log("update: "+e)};