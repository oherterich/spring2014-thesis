function addTextContainer(){textContainer.classList.add("textcontainer-visible");textContainer.classList.remove("textcontainer-hidden");bActiveTextbox=!0}function removeTextContainer(){textContainer.classList.remove("textcontainer-visible");textContainer.classList.add("textcontainer-hidden");bActiveTextbox=!1}function addTextbox(){textbox.classList.add("textbox-close");textbox.classList.remove("textbox-far")}function removeTextbox(){textbox.classList.add("textbox-far");textbox.classList.remove("textbox-close")}function showTextbox(){textbox.classList.add("textbox-visible");textbox.classList.remove("textbox-hidden")}function hideTextbox(){textbox.classList.add("textbox-hidden");textbox.classList.remove("textbox-visible")}function addLeftArrow(){leftArrow.classList.add("arrow-left-visible");leftArrow.classList.remove("arrow-left-hidden")}function removeLeftArrow(){leftArrow.classList.add("arrow-left-hidden");leftArrow.classList.remove("arrow-left-visible")}function addRightArrow(){rightArrow.classList.add("arrow-right-visible");rightArrow.classList.remove("arrow-right-hidden")}function removeRightArrow(){rightArrow.classList.add("arrow-right-hidden");rightArrow.classList.remove("arrow-right-visible")}function addInstruction(e){instruction[e].classList.add("instruction-visible");instruction[e].classList.remove("instruction-hidden")}function removeInstruction(e){instruction[e].classList.add("instruction-hidden");instruction[e].classList.remove("instruction-visible")}function addRotateCursor(){body.classList.add("cursor-rotate");body.classList.remove("cursor-auto");body.classList.remove("cursor-write");body.classList.remove("cursor-rotate-top");body.classList.remove("cursor-rotate-right");body.classList.remove("cursor-rotate-bottom");body.classList.remove("cursor-rotate-left");body.classList.remove("cursor-translate")}function addRotateTopCursor(){body.classList.add("cursor-rotate-top");body.classList.remove("cursor-auto");body.classList.remove("cursor-write");body.classList.remove("cursor-rotate");body.classList.remove("cursor-rotate-right");body.classList.remove("cursor-rotate-bottom");body.classList.remove("cursor-rotate-left");body.classList.remove("cursor-translate")}function addRotateRightCursor(){body.classList.add("cursor-rotate-right");body.classList.remove("cursor-auto");body.classList.remove("cursor-write");body.classList.remove("cursor-rotate");body.classList.remove("cursor-rotate-top");body.classList.remove("cursor-rotate-bottom");body.classList.remove("cursor-rotate-left");body.classList.remove("cursor-translate")}function addRotateBottomCursor(){body.classList.add("cursor-rotate-bottom");body.classList.remove("cursor-auto");body.classList.remove("cursor-write");body.classList.remove("cursor-rotate");body.classList.remove("cursor-rotate-right");body.classList.remove("cursor-rotate-top");body.classList.remove("cursor-rotate-left");body.classList.remove("cursor-translate")}function addRotateLeftCursor(){body.classList.add("cursor-rotate-left");body.classList.remove("cursor-auto");body.classList.remove("cursor-write");body.classList.remove("cursor-rotate");body.classList.remove("cursor-rotate-right");body.classList.remove("cursor-rotate-bottom");body.classList.remove("cursor-rotate-top");body.classList.remove("cursor-translate")}function addWriteCursor(){body.classList.add("cursor-write");body.classList.remove("cursor-auto");body.classList.remove("cursor-rotate");body.classList.remove("cursor-rotate-top");body.classList.remove("cursor-rotate-right");body.classList.remove("cursor-rotate-bottom");body.classList.remove("cursor-rotate-left");body.classList.remove("cursor-translate")}function addAutoCursor(){body.classList.add("cursor-auto");body.classList.remove("cursor-rotate");body.classList.remove("cursor-write");body.classList.remove("cursor-rotate-top");body.classList.remove("cursor-rotate-right");body.classList.remove("cursor-rotate-bottom");body.classList.remove("cursor-rotate-left");body.classList.remove("cursor-translate")}function addTranslateCursor(){body.classList.add("cursor-translate");body.classList.remove("cursor-auto");body.classList.remove("cursor-rotate");body.classList.remove("cursor-write");body.classList.remove("cursor-rotate-top");body.classList.remove("cursor-rotate-right");body.classList.remove("cursor-rotate-bottom");body.classList.remove("cursor-rotate-left")}function addNotes(){notes.classList.add("notes-visible");notes.classList.remove("notes-hidden");notes.classList.remove("notes-rotateLeft");notes.classList.remove("notes-rotateRight")}function removeNotes(){notes.classList.add("notes-hidden");notes.classList.remove("notes-visible")}function rotateLeftNotes(){notes.classList.add("notes-rotateLeft");notes.classList.remove("notes-rotateRight")}function rotateRightNotes(){notes.classList.add("notes-rotateRight");notes.classList.remove("notes-rotateLeft")}function clearNotes(){notes.innerHTML=""}function addNote(e){var t=document.createElement("p");t.innerHTML=e;console.log(t);notes.appendChild(t)}function createNotes(e){for(var t=0;t<commentList.length;t++)if(commentList[t]["userid"]==e){var n=document.createElement("p");n.innerHTML=commentList[t].comment;notes.appendChild(n)}}function saveComment(e,t){var n={comment:e,id:t};$.ajax({type:"POST",url:"php/saveComment.php",dataType:"json",data:n,success:function(e){$.ajax({type:"REQUEST",url:"php/getComments.php",success:function(e){commentList=jQuery.parseJSON(e);clearNotes();createNotes(photoLinks[selectedImage].link);removeInstruction(2)}})}})}var body=document.getElementsByTagName("body")[0],container=document.getElementById("container"),photoLinks,commentList,HUD=document.getElementById("HUD"),userPosition=document.getElementById("user-position"),ping=document.getElementById("ping"),notes=document.getElementById("notes"),textContainer=document.getElementById("textContainer"),textbox=document.getElementById("textbox"),bActiveTextbox=!1,leftArrow=document.getElementById("left-arrow"),rightArrow=document.getElementById("right-arrow"),instruction=document.getElementsByClassName("instruction");instruction[0].style.opacity=.6;var chime=new Audio("sound/chime.mp3"),ambient=new Audio("sound/ambient.mp3"),turnPaper=new Audio("sound/turnpaper.mp3"),dropPaper=new Audio("sound/droppaper.mp3"),pickPaper=new Audio("sound/pickpaper.mp3");ambient.loop=!0;ambient.play();var url=document.location.href;$(document).ready(function(){var e="",t=url.split("?")[1];$.ajax({type:"GET",url:"php/getPhotoLinks.php",async:!1,dataType:"text",data:t,success:function(t){e=t;photoLinks=jQuery.parseJSON(e);console.log(photoLinks)}});$.ajax({type:"REQUEST",url:"php/getComments.php",success:function(e){commentList=jQuery.parseJSON(e)}})});textbox.addEventListener("keydown",function(e){if(e.keyCode==13){var t=textbox.value,n=photoLinks[selectedImage].link;saveComment(t,n);removeTextbox();textbox.blur();removeInstruction(2)}});textbox.addEventListener("mouseover",function(e){bTextboxActive=!0});textbox.addEventListener("mouseout",function(e){bTextboxActive=!1});userPosition.addEventListener("mouseover",function(e){bHUDActive=!0});userPosition.addEventListener("mouseout",function(e){bHUDActive=!1});