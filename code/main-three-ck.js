function addTextContainer(){textContainer.classList.add("textcontainer-visible");textContainer.classList.remove("textcontainer-hidden");bActiveTextbox=!0}function removeTextContainer(){textContainer.classList.remove("textcontainer-visible");textContainer.classList.add("textcontainer-hidden");bActiveTextbox=!1}function addTextbox(){textbox.classList.add("textbox-visible");textbox.classList.remove("textbox-hidden")}function removeTextbox(){textbox.classList.add("textbox-hidden");textbox.classList.remove("textbox-visible")}function addLeftArrow(){leftArrow.classList.add("arrow-left-visible");leftArrow.classList.remove("arrow-left-hidden")}function removeLeftArrow(){leftArrow.classList.add("arrow-left-hidden");leftArrow.classList.remove("arrow-left-visible")}function addRightArrow(){rightArrow.classList.add("arrow-right-visible");rightArrow.classList.remove("arrow-right-hidden")}function removeRightArrow(){rightArrow.classList.add("arrow-right-hidden");rightArrow.classList.remove("arrow-right-visible")}function addInstruction(e){instruction[e].classList.add("instruction-visible");instruction[e].classList.remove("instruction-hidden")}function removeInstruction(e){instruction[e].classList.add("instruction-hidden");instruction[e].classList.remove("instruction-visible")}function addNotes(){notes.classList.add("notes-visible");notes.classList.remove("notes-hidden")}function removeNotes(){notes.classList.add("notes-hidden");notes.classList.remove("notes-visible")}function clearNotes(){notes.innerHTML=""}function addNote(e){var t=document.createElement("p");t.innerHTML=e;console.log(t);notes.appendChild(t)}function createNotes(e){for(var t=0;t<commentList.length;t++)if(commentList[t]["userid"]==e){var n=document.createElement("p");n.innerHTML=commentList[t].comment;notes.appendChild(n)}}function saveComment(e,t){var n={comment:e,id:t};$.ajax({type:"POST",url:"saveComment.php",dataType:"json",data:n,success:function(e){$.ajax({type:"REQUEST",url:"getComments.php",success:function(e){commentList=jQuery.parseJSON(e);clearNotes();createNotes(photoLinks[selectedImage].link);removeInstruction(2)}})}})}var container=document.getElementById("container"),photoLinks,commentList,HUD=document.getElementById("HUD"),userPosition=document.getElementById("user-position"),notes=document.getElementById("notes"),textContainer=document.getElementById("textContainer"),textbox=document.getElementById("textbox"),bActiveTextbox=!1,leftArrow=document.getElementById("left-arrow"),rightArrow=document.getElementById("right-arrow"),instruction=document.getElementsByClassName("instruction");instruction[0].style.opacity=.6;$(document).ready(function(){var e="";$.ajax({type:"REQUEST",url:"getPhotoLinks.php",async:!1,success:function(t){e=t;photoLinks=jQuery.parseJSON(e)}});$.ajax({type:"REQUEST",url:"getComments.php",success:function(e){commentList=jQuery.parseJSON(e)}})});textbox.addEventListener("keydown",function(e){if(e.keyCode==13){var t=textbox.value,n=photoLinks[selectedImage].link;saveComment(t,n);removeTextbox();textbox.blur();console.log(document.activeElement.nodeName)}});textbox.addEventListener("mouseover",function(e){bTextboxActive=!0});textbox.addEventListener("mouseout",function(e){bTextboxActive=!1});userPosition.addEventListener("mouseover",function(e){bHUDActive=!0});userPosition.addEventListener("mouseout",function(e){bHUDActive=!1});userPosition.addEventListener("mousedown",function(e){bHUDDraggable=!0;e.preventDefault();console.log("mousedown")});userPosition.addEventListener("mouseup",function(e){bHUDDraggable=!1;console.log("mouseup")});userPosition.addEventListener("click",function(e){bHUDDraggable=!1;console.log("click")});